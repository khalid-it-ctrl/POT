const users = {
    "abdullah.as@pot": {
      password: "2420753",
      role: "student",
      name: "Abdullah Samir Bashir Abdel Samad",
      image: "samir.jpg",
      bio: "عامل من بنها 🙃",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Presentation", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Task", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 30 },
        { name: "Ramadan Question", grade: 5 }
      ],
      reports: [
        { name: "week 1", grade: 10 }
      ]
    },
    "hanin.ab@pot": {
      password: "2420394",
      role: "student",
      name: "Hanin Abdelkarim Mahmoud",
      image: "abdelkre.jpg",
      bio: "باشا التأجيل ⏭️",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Project Presentation", grade: 2 },
        { name: "Project Errors", grade: 5 },
        { name: "Task", grade: 15 },
        { name: "Meeting", grade: 20 }
      ],
      reports: [
        { name: "week 1", grade: 10 }
      ]
    },
    "soma.fa@pot": {
      password: "2420563",
      role: "student",
      name: "Soma Fahmy Abdelhamid Abdelaziz Abdelmalek",
      image: "soma.jpg",
      bio: "الهادي البادي 😶",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Task", grade: 15 },
        { name: "Meeting", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Meeting", grade: 30 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 }
      ],
      reports: [
        { name: "week 1", grade: 10 }
      ]
    },
    "hamada.ga@pot": {
      password: "2420384",
      role: "student",
      name: "Hamada Gaber Ragab Morsi Ahmed",
      image: "hmad.jpg",
      bio: "ساكت بس شايفك 😌",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Attending Meetings", grade: 5 },
        { name: "Task", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 }
      ],
      reports: [
        { name: "week 1", grade: 10 }
      ]
    },
    "mohamed.ab@pot": {
      password: "2420990",
      role: "student",
      name: "Mohamed Ayman Abouzeid Selim Abdelrahman",
      image: "abo.jpg",
      bio: "بتاع كله ⚙️",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Project Presentation", grade: 4 },
        { name: "Meeting", grade: 5 },
        { name: "Organizing Presentation", grade: 10 },
        { name: "Organizing Presentation", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 60 },
        { name: "Web devolopment", grade: 20 }
      ],
      reports: [
        { name: "week 1", grade: 10 }
      ]
    },
    "donia.ah@pot": {
      password: "2420414",
      role: "student",
      name: "Donia Ahmed Mohamed Abdelrahman Korauim",
      image: "donia.jpg",
      bio: "مطنش بس مركز 🙄",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Task", grade: 10 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Meeting", grade: 30 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "habiba.wa@pot": {
      password: "2420366",
      role: "student",
      name: "Habiba Walid Abdelkarim Atta",
      image: "hbib.jpg",
      bio: "كتاب متحرك 📖",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Task", grade: 15 },
        { name: "Project Presentation", grade: 15 },
        { name: "Meeting", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Meeting", grade: 60 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "abdelrahman.at@pot": {
      password: "2420713",
      role: "student",
      name: "Abdelrahman Atef Mohamed Ali",
      image: "zok.jpg",
      bio: "الشبح 🕵️",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Task", grade: 15 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 30 }
      ],
      reports: [
          { name: "week 1", grade: 10 },
          { name: "week 2", grade: 10 },
               ]
    },
    "moaz.mo@pot": {
      password: "2421221",
      role: "student",
      name: "Moaz Mohamed Rafiq Farghaly",
      image: "moa.jpg",
      bio: "أبو حجة جاهزة 🎭",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Project Presentation", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Project Presentation", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 60 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "rawan.ta@pot": {
      password: "2420464",
      role: "student",
      name: "Rawan Tarek Abbas Tolba Hennedy",
      image: "rewan.jpg",
      bio: "ابو نظرية 🎓",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Project Presentation", grade: 10 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Meeting", grade: 30 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "mazin.mo@pot": {
      password: "2420947",
      role: "student",
      name: "Mazin Mohamed Anwar Hussein Abdelkhaleq",
      image: "maz.jpg",
      bio: "المخطط الكبير 🗺️",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Project Presentation", grade: 4 },
        { name: "Meeting", grade: 5 },
        { name: "Project Presentation", grade: 20 },
        { name: "Organizing Presentation", grade: 20 },
        { name: "Organizing Presentation", grade: 20 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 60 },
        { name: "Meeting", grade: 20 },
        { name: "Organizing Presentation", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "hosni.mo@pot": {
      password: "2420380",
      role: "student",
      name: "Hosni Mohamed Hosni Mohamed",
      image: "hos.jpg",
      bio: "آخر واحد يخلص 🏁",
      tasks: [
        { name: "ID Creation", grade: 4 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Evaluation Website", grade: 9 },
        { name: "Meeting", grade: 5 },
        { name: "develop the web", grade: 20 },
        { name: "Meeting", grade: 20 },
        { name: "Logo", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "fares.ma@pot": {
      password: "2420879",
      role: "student",
      name: "Fares Mahmoud Fathy Elsabbagh",
      image: "fares.jpg",
      bio: "مزاجنجي بك 😑",
      tasks: [
        { name: "Logo Creation", grade: 20 },
        { name: "Meeting", grade: 2 },
        { name: "Background Design", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Evaluation Website", grade: 20 },
        { name: "Meeting", grade: 5 },
        { name: "Organizing Presentation", grade: 20 },
        { name: "Meeting", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "doaa.kh@pot": {
      password: "2420410",
      role: "student",
      name: "Doaa Khamis Abdelsamea Mohamed",
      image: "do.jpg",
      bio: "مشاكس بس طيب 🤗",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Task", grade: 15 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 30 },
        { name: "Meeting", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "khalid@pot": {
      password: "2420403",
      role: "student",
      name: "Khalid Samir Mohamed Mohamed",
      image: "kh.jpg",
      bio: "بتاع الأحلام 🌙",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Follow-up", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 30 },
        { name: "Organizing Presentation", grade: 20 },
        { name: "Meeting", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "hanin.ha@pot": {
      password: "2420399",
      role: "student",
      name: "Hanin Hachem Ismail Abdeljalil",
      image: "hash.jpg",
      bio: "ابو القفشات 😂",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Website Design", grade: 5 },
        { name: "Task", grade: 5 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 30 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "hamdy.ah@pot": {
      password: "2420385",
      role: "student",
      name: "Hamdy Ashraf Abdelkader Mousa",
      image: "ham.jpg",
      bio: "الشيخ الحكيم 🦉",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Project Presentation", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Meeting", grade: 20 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Meeting", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "rizk.re@pot": {
      password: "2420446",
      role: "student",
      name: "Rizk Reda Abdelwahed Ali Gweida",
      image: "rez.jpg",
      bio: "هيفوتك بمزاجه 😏",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Project Presentation", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 20 },
        { name: "Meeting", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "islam.as@pot": {
      password: "2420115",
      role: "student",
      name: "eslam saed abdelglel",
      image: "esl.jpg",
      bio: "آخر واحد يوصل ⏳",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Arduino Research", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 30 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "sief.al@pot": {
      password: "2420568",
      role: "student",
      name: "Seif El-Din Alaa Elsayed Abdel Latif Hassan",
      image: "sif.jpg",
      bio: "دماغه متكلفة 🧐",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Project Presentation", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Project Presentation", grade: 10 },
        { name: "Project Presentation", grade: 10 },
        { name: "Project Presentation", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Ramdan Question", grade: 5 },
        { name: "Meeting", grade: 60 },
        { name: "Organizing Presentation", grade: 20 },
        { name: "Meeting", grade: 20 },
        { name: "Ramdan Question", grade: 10 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "mohamed.re@pot": {
      password: "2421025",
      role: "student",
      name: "Mohamed Reda Abdelrasoul Mohamed",
      image: "red.jpg",
      bio: "سرحان الدفعة 🤔",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Project Presentation", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "mohamed.ay@pot": {
      password: "2420981",
      role: "student",
      name: "Mohamed Ayman Abdelhamid Ibrahim Abouelnour",
      image: "borg.jpg",
      bio: "معترض أفندي 🤨",
      tasks: [
        { name: "Excused", grade: 0 },
        { name: "Excused", grade: 0 },
        { name: "Meeting", grade: 5 },
        { name: "Attending Meetings", grade: 5 },
        { name: "Task", grade: 15 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 60 },
        { name: "Meeting", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "abdelrahman.al@pot": {
      password: "2420725",
      role: "student",
      name: "Abdelrahman Mohamed Allam",
      image: "all.jpg",
      bio: "رايق بس خطير ☕",
      tasks: [
        { name: "Excused", grade: 0 },
        { name: "Meeting", grade: 2 },
        { name: "Attending Meetings", grade: 5 },
        { name: "Task", grade: 15 },
        { name: "Meeting", grade: 5 },
        { name: "Ramdan Question", grade: 5 },
        { name: "Ramdan Question", grade: 5 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "abdullah.ho@pot": {
      password: "2421537",
      role: "student",
      name: "Abdullah Hosni Abdelmagid",
      image: "abd.jpg",
      bio: "أول واحد يتحمس 🔥",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Excused", grade: 0 },
        { name: "Meeting", grade: 5 },
        { name: "Project Presentation", grade: 15 },
        { name: "Meeting", grade: 5 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "hanin.wa@pot": {
      password: "2420400",
      role: "student",
      name: "Hanin Walid Abdelkarim Atta",
      image: "wled.jpg",
      bio: "😶الركن البعيد الهادى",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Project Presentation", grade: 15 },
        { name: "Meeting", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Meeting", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "youssef.mo@pot": {
      password: "2421511",
      role: "student",
      name: "Youssef Mohamed Mohamed Abouzeid",
      image: "you.jpg",
      bio: "غياب 👤",
      tasks: [
        { name: "Excused", grade: 0 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Task", grade: 15 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 20 },
        { name: "Meeting", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "ahmed.mo@pot": {
      password: "2420224",
      role: "student",
      name: "Ahmed Mohamed Ali Abou Elhmed Hreidy",
      image: "ahm.jpg",
      bio: "ملك الافورة 😆",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Project Presentation", grade: 11 },
        { name: "Meeting", grade: 5 },
        { name: "Project Presentation", grade: 10 },
        { name: "Meeting", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "omar.ta@pot": {
      password: "2420821",
      role: "student",
      name: "Omar Tamer Ramzy",
      image: "omar.jpg",
      bio: "سعد زغلول 🙃",
      tasks: [
        { name: "Excused", grade: 0 },
        { name: "Meeting", grade: 2 },
        { name: "Project Presentation", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Task", grade: 10 },
        { name: "Meeting", grade: 5 },
        { name: "Meeting", grade: 30 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "rahma.ah@pot": {
      password: "2420431",
      role: "student",
      name: "Rahma Ahmed Abdelmoneim Ahmed Elashqar",
      image: "rahma.al.jpg",
      bio: "المكسوفة 😎",
      tasks: [
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 2 },
        { name: "Meeting", grade: 5 },
        { name: "Project Presentation", grade: 20 },
        { name: "Meeting", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Project Presentation", grade: 15 },
        { name: "Meeting", grade: 30 },
        { name: "Project Presentation", grade: 15 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Meeting", grade: 20 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "rawy.mo@pot": {
      password: "2420427",
      role: "student",
      name: "Rawy Mohamed Rawy",
      image: "rawe.jpg",
      bio: "نايم في العسل 😴",
      tasks: [
        { name: "Excused", grade: 0 },
        { name: "Meeting", grade: 2 },
        { name: "Task", grade: 15 },
        { name: "Meeting", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 5 },
        { name: "Ramadan Question", grade: 10 }
      ],
      reports: [{ name: "week 1", grade: 10 }]
    },
    "doc": {
      password: "pot",
      role: "doctor"
    }
  };

  function login() {
    const u = document.getElementById("username").value;
    const p = document.getElementById("password").value;

    if (users[u] && users[u].password === p) {
      document.getElementById("login").style.display = "none";
      if (users[u].role === "student") {
        loadStudent(users[u]);
      } else {
        loadDoctor();
      }
    } else {
      alert("Wrong credentials!");
    }
  }

  function toggleSidebar() {
    document.getElementById("sidebar").classList.toggle("collapsed");
  }

  function showSection(id) {
    document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
    document.getElementById(id + "Section").classList.add("active");
  }

  function loadStudent(user) {
    document.getElementById("main").style.display = "flex";
    document.getElementById("userName").textContent = user.name;
    document.getElementById("userImage").src = user.image;
    document.getElementById("userBio").textContent = user.bio;

    document.getElementById("tasksSection").innerHTML = `
    <h2>Tasks</h2>
    <table>
      <tr><th>Task</th><th>Grade</th></tr>
      ${user.tasks.map(t => `<tr><td>${t.name}</td><td>${t.grade}</td></tr>`).join('')}
    </table>
    <div class="total">Total: ${user.tasks.reduce((a, b) => a + b.grade, 0)}</div>
  `;

    document.getElementById("reportSection").innerHTML = `
    <h2>Reports</h2>
    <table>
      <tr><th>Report</th><th>Grade</th></tr>
      ${user.reports.map(r => `<tr><td>${r.name}</td><td>${r.grade}</td></tr>`).join('')}
    </table>
    <div class="total">Total: ${user.reports.reduce((a, b) => a + b.grade, 0)}</div>
  `;


    const total = user.tasks.concat(user.reports).reduce((a, b) => a + b.grade, 0);
    document.getElementById("rateSection").innerHTML = `
    <h2 style="text-align:center;">Total Rate: ${total}</h2>
    <div class="chart">
      ${user.tasks.concat(user.reports).map(i =>
      `<div class="bar" style="height:${i.grade * 20}px">${i.grade}</div>`).join('')}
    </div>
  `;
  }

  function loadDoctor() {
    document.getElementById("doctor").style.display = "block";
    const list = document.getElementById("studentList");
    list.innerHTML = '';
    Object.entries(users).forEach(([username, user]) => {
      if (user.role === "student") {
        const card = document.createElement("div");
        card.className = "student-card";
        card.innerHTML = `<img src="${user.image}"><div><strong>${user.name}</strong><br>${user.bio}</div>`;
        card.onclick = () => {
          document.getElementById("doctor").style.display = "none";
          loadStudent(user);
        };
        list.appendChild(card);
      }
    });
  }
